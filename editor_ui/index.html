<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>compozeFlow</title>
  <style>
    /* Root layout: full height, a row-based flex container for the entire app. */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: sans-serif;
      overflow: hidden; /* Prevent scrollbars on smaller windows */
    }

    #app {
      display: flex;
      flex-direction: row;
      height: 100%;
    }

    /* Left Icon bar */
    #icon-bar {
      width: 50px;
      background-color: #333;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 10px;
      /* Add justify-content to create space between top and bottom sections */
      justify-content: space-between;
      /* Add padding at the bottom to match the top padding */
      padding-bottom: 10px;
      /* Ensure the icon bar takes full height */
      height: 100%;
      box-sizing: border-box;
    }
    /* Container for top icons */
    #top-icons {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    /* Container for installed plugins icons */
    #installed-plugins-icons {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 15px;
      max-height: 40%;
      overflow-y: auto;
      /* Add a subtle separator */
      border-top: 1px solid #555;
      padding-top: 10px;
    }
    /* Style for plugin icons */
    .plugin-icon {
      margin: 8px 0;
      cursor: pointer;
      font-size: 1.6rem;
      user-select: none;
      color: #ccc; /* Slightly lighter than regular icons */
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .plugin-icon.inactive {
      color: #666; /* Dimmed for inactive plugins */
      opacity: 0.7;
    }
    /* Blue puzzle piece for plugins without icons */
    .plugin-icon.default-icon {
      color: #4a86e8; /* Blue color */
    }
    /* Container for bottom icons */
    #bottom-icons {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .icon {
      margin: 10px 0;
      cursor: pointer;
      font-size: 1.8rem; /* Increased from 1.2rem to make icons 50% larger */
      user-select: none;
    }
    .icon:hover {
      background-color: #444;
      width: 100%;
      text-align: center;
    }

    /* Explorer Section */
    #explorer {
      width: 250px;
      background-color: #f3f3f3;
      border-right: 1px solid #ccc;
      overflow: auto;
      padding: 10px 0;
      font-size: 14px;
    }
    
    /* Explorer container */
    .explorer-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    /* Explorer section */
    .explorer-section {
      margin-bottom: 10px;
    }
    
    /* Explorer section header */
    .explorer-section-header {
      padding: 5px 10px;
      font-weight: bold;
      background-color: #e0e0e0;
      border-bottom: 1px solid #ccc;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    /* Explorer section name */
    .explorer-section-name {
      text-transform: uppercase;
      font-size: 12px;
      color: #555;
    }
    
    /* Explorer file list */
    .explorer-file-list {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    
    /* Explorer item */
    .explorer-item {
      padding: 2px 0;
    }
    
    /* Explorer item content */
    .explorer-item-content {
      display: flex;
      align-items: center;
      padding: 2px 10px;
      cursor: pointer;
    }
    
    .explorer-item-content:hover {
      background-color: #e5e5e5;
    }
    
    /* Explorer icon */
    .explorer-icon {
      margin-right: 5px;
      font-size: 16px;
    }
    
    /* Explorer name */
    .explorer-name {
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    /* Explorer directory */
    .explorer-directory > .explorer-file-list {
      display: none;
      margin-left: 15px;
    }
    
    .explorer-directory.expanded > .explorer-file-list {
      display: block;
    }
    
    /* Explorer empty directory */
    .explorer-empty-dir {
      padding: 2px 10px;
      color: #999;
      font-style: italic;
    }
    
    /* Explorer error */
    .explorer-error {
      padding: 5px 10px;
      color: #d32f2f;
      font-style: italic;
    }
    
    /* Explorer empty */
    .explorer-empty {
      padding: 10px;
      color: #999;
      font-style: italic;
      text-align: center;
    }

    /* Main Editor area with vertical layout of tabs + terminal below */
    #main-section {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* Tabs container (top part of main section) */
    #tabs-container {
      display: flex;
      background-color: #eee;
      border-bottom: 1px solid #ccc;
    }
    .tab {
      padding: 10px;
      border-right: 1px solid #ccc;
      cursor: pointer;
    }
    .tab:hover {
      background-color: #ddd;
    }

    /* Editor / Content area (between tabs and terminal) */
    #editor-content {
      flex: 1;
      padding: 20px;
      overflow: auto;
    }

    /* Terminal section (bottom) */
    #terminal {
      height: 150px;
      border-top: 1px solid #ccc;
      background-color: #111;
      color: #eee;
      font-family: monospace;
      overflow: auto;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- Icon Bar -->
    <div id="icon-bar">
      <!-- Top icons group -->
      <div id="top-icons">
        <div class="icon">â˜°</div>
        <div class="icon">âœŽ</div>
        <div class="icon" id="plugins-icon">ðŸ§©</div>
      </div>
      <!-- Installed plugins icons -->
      <div id="installed-plugins-icons">
        <!-- Dynamically populated from installed_plugins.json -->
      </div>
      <!-- Bottom icons group -->
      <div id="bottom-icons">
        <!-- Account icon -->
        <div class="icon" id="account-icon">ðŸ‘¤</div>
        <!-- Settings icon -->
        <div class="icon" id="settings-icon">âš™</div>
      </div>
    </div>

    <!-- Explorer -->
    <div id="explorer">
      <!-- This will be populated dynamically from content_sources -->
      <div class="explorer-empty">
        No content sources available. Open a video assembly file to display content sources.
      </div>
    </div>

    <!-- Main section -->
    <div id="main-section">
      <!-- Tabs -->
      <div id="tabs-container">
        <div class="tab">Timeline</div>
        <div class="tab">Overlay Images</div>
        <div class="tab">Mixed Audio</div>
        <div class="tab">Output</div>
        <div class="tab">General</div>
        <div class="tab">Raw</div>
      </div>

      <!-- Editor content area -->
      <div id="editor-content">
        <h2>Welcome to compozeFlow Editor UI</h2>
        <p>This is a placeholder for the central editing area, akin to the text editor in VS Code.</p>
      </div>

      <!-- Terminal section -->
      <div id="terminal">
        <p>Terminal output will appear here...</p>
      </div>
    </div>
  </div>
  
  <!-- Include the renderer script -->
  <script src="renderer.js"></script>
</body>
</html>
